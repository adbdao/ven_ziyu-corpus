// 配合timeEnd()成對出現。 打印出代碼執行的時間
console.time('共耗費了')
// 導入模組
var fs = require('fs')
var path = require('path')
// 可改寫副檔名及編碼
var x = '.txt'
var ru = 'utf8'
var wu = 'utf8'
// 子目錄名，如果有的話
var mula = 'xml/'
// 完成後的副檔名
var afterName = '.xml'
// 裝載運算結果的物件
var okfile = ''
// 取得目錄列表
// var h = path.normalize('./xml')

// var lst = fs.readFileSync(mula + 'paauk.lst', wu).split('\n')
// fs.writeFileSync('p.lst', lst.join('\n'), wu)
// lst = fs.readFileSync('p.lst', wu).split('\n')
var lst = ['SHIFU.txt','02-3.TXT','001.TXT','001-S.TXT','001-1.TXT','001-2.TXT','001-3.TXT','001-4.TXT','001-5.TXT','001-6.TXT','001-7.TXT','001-8.TXT','001-9.TXT','001-10.TXT','001-11.TXT','001-12.TXT','001-13.TXT','001-14.TXT','001-15.TXT','001-16.TXT','001-17.TXT','001-18.TXT','001-19.TXT','001-20.TXT','004-1.TXT','004-1-S.TXT','004-1-A.TXT','004-1-B.TXT','004-2.TXT','004-2-S.TXT','004-2-A.TXT','004-2-B.TXT','005.TXT','005-S.TXT','005-A.TXT','005-B.TXT','005-C.TXT','011.TXT','011-S.TXT','011-A.TXT','011-B.TXT','011-C.TXT','011-D.TXT','011-E.TXT','011-F.TXT','011-G.TXT','011-H.TXT','011-I.TXT','011-J.TXT','011-K.TXT','011-L.TXT','011-M.TXT','011-N.TXT','011-O.TXT','011-P.TXT','011-Q.TXT','011-R.TXT','015.TXT','015-S.TXT','015-A.TXT','015-B.TXT','022.TXT','022-S.TXT','022-A.TXT','022-B.TXT','023.TXT','023-S.TXT','023-A.TXT','023-B.TXT','025.TXT','025-S.TXT','025-1.TXT','025-2.TXT','025-3.TXT','025-4.TXT','025-5.TXT','025-6.TXT','025-7.TXT','025-8.TXT','025-9.TXT','025-10.TXT','025-11.TXT','028.TXT','028-S.TXT','028-A.TXT','028-B.TXT','028-C.TXT','032.TXT','032-S.TXT','032-A.TXT','032-B.TXT','032-D.TXT','032-E.TXT','032-F.TXT','032-G.TXT','032-H.TXT','032-I.TXT','032-J.TXT','032-K.TXT','032-L.TXT','032-M.TXT','032-N.TXT','032-O.TXT','032-P.TXT','038.TXT','038-S.TXT','038-A.TXT','038-B.TXT','038-C.TXT','038-C1.TXT','038-D.TXT','038-E.TXT','038-F.TXT','038-G.TXT','038-H.TXT','038-I.TXT','038-J.TXT','038-K.TXT','038-L.TXT','054.TXT','054-S.TXT','054-A.TXT','054-B.TXT','054-C.TXT','054-D.TXT','054-E.TXT','054-F.TXT','054-G.TXT','054-H.TXT','054-I.TXT','054-J.TXT','054-K.TXT','054-L.TXT','054-M.TXT','054-N.TXT','054-O.TXT','059.TXT','059-S.TXT','059-A.TXT','059-B.TXT','059-C.TXT','059-D.TXT','059-E.TXT','059-F.TXT','059-G.TXT','059-H.TXT','059-I.TXT','059-J.TXT','059-K.TXT','059-L.TXT','02-3-2.TXT','018.TXT','018-S.TXT','018-A.TXT','018-B.TXT','018-C.TXT','018-D.TXT','018-E.TXT','018-F.TXT','020.TXT','020-S.TXT','020-A.TXT','020-B.TXT','020-C.TXT','020-D.TXT','020-E.TXT','020-F.TXT','020-G.TXT','020-H.TXT','034.TXT','034-S.TXT','034-A.TXT','034-B.TXT','034-C.TXT','034-D.TXT','034-E.TXT','034-F.TXT','034-G.TXT','034-H.TXT','034-I.TXT','034-J.TXT','034-K.TXT','044.TXT','044-S.TXT','044-A.TXT','044-B.TXT','047.TXT','047-S.TXT','047-S1.TXT','047-A.TXT','047-B.TXT','047-C.TXT','047-D.TXT','047-E.TXT','047-F.TXT','047-G.TXT','047-H.TXT','047-I.TXT','047-J.TXT','047-K.TXT','053.TXT','053-S.TXT','053-A.TXT','053-B.TXT','053-C.TXT','053-D.TXT','053-E.TXT','053-F.TXT','053-G.TXT','053-H.TXT','053-I.TXT','053-J.TXT','053-K.TXT','053-L.TXT','053-M.TXT','02-3-3.TXT','02-3-4.TXT','002.TXT','002-S.TXT','002-A.TXT','002-B.TXT','002-C.TXT','002-D.TXT','002-E.TXT','002-F.TXT','002-G.TXT','002-H.TXT','002-I.TXT','002-J.TXT','002-K.TXT','002-L.TXT','002-M.TXT','003.TXT','003-S.TXT','003-A.TXT','003-B.TXT','007.TXT','007-S.TXT','007-A.TXT','007-B.TXT','007-C.TXT','007-D.TXT','007-E.TXT','007-F.TXT','007-G.TXT','007-H.TXT','007-I.TXT','007-J.TXT','007-K.TXT','007-L.TXT','007-M.TXT','007-N.TXT','007-O.TXT','007-P.TXT','007-Q.TXT','007-R.TXT','009.TXT','009-S.TXT','009-A.TXT','009-B.TXT','009-C.TXT','013.TXT','013-S.TXT','013-A.TXT','013-B.TXT','013-C.TXT','013-D.TXT','013-E.TXT','013-F.TXT','017.TXT','017-S.TXT','017-A.TXT','017-B.TXT','017-C.TXT','019.TXT','019-S.TXT','019-001-1.TXT','019-001-2.TXT','019-001-3.TXT','019-001-4.TXT','019-001-5.TXT','019-002-1.TXT','019-002-2.TXT','019-002-3.TXT','019-003-1.TXT','019-003-2.TXT','019-003-3.TXT','019-003-4.TXT','019-003-5.TXT','019-004-1.TXT','019-004-2.TXT','019-004-3.TXT','019-004-4.TXT','019-004-5.TXT','019-004-6.TXT','019-004-7.TXT','019-004-8.TXT','019-004-9.TXT','019-005-1.TXT','019-005-2.TXT','019-005-3.TXT','019-005-4.TXT','019-005-5.TXT','019-005-6.TXT','019-005-7.TXT','019-006-1.TXT','019-006-2.TXT','019-006-3.TXT','019-006-4.TXT','019-006-5.TXT','019-006-6.TXT','019-006-7.TXT','019-007-1.TXT','019-007-2.TXT','019-H.TXT','029.TXT','029-S.TXT','029-001-1.TXT','029-001-2.TXT','029-002-1.TXT','029-002-2.TXT','029-003-1.TXT','029-003-2.TXT','029-003-3.TXT','029-003-4.TXT','029-003-5.TXT','029-003-6.TXT','029-003-7.TXT','029-003-8.TXT','029-004-1.TXT','029-004-2.TXT','029-005-1.TXT','029-005-2.TXT','029-005-3.TXT','029-005-4.TXT','029-005-5.TXT','029-005-6.TXT','029-005-7.TXT','029-005-8.TXT','029-006-1.TXT','029-006-2.TXT','029-007-1.TXT','029-007-2.TXT','029-008.TXT','029-H.TXT','033.TXT','033-S.TXT','033-001-1.TXT','033-001-2.TXT','033-002.TXT','033-003-1.TXT','033-003-2.TXT','033-004-1.TXT','033-004-2.TXT','033-004-3.TXT','033-005-1.TXT','033-005-2.TXT','033-005-3.TXT','033-005-4.TXT','033-006-1.TXT','033-006-2.TXT','033-006-3.TXT','033-006-4.TXT','033-007-1.TXT','033-007-2.TXT','033-007-3.TXT','033-007-4.TXT','033-008.TXT','033-H.TXT','036.TXT','036-S.TXT','036-1.TXT','036-1-1.TXT','036-2.TXT','036-3.TXT','036-4.TXT','036-5.TXT','036-6.TXT','036-7.TXT','036-8.TXT','036-9.TXT','036-10.TXT','036-11.TXT','036-12.TXT','036-13.TXT','036-14.TXT','036-15.TXT','036-16.TXT','036-17.TXT','036-18.TXT','036-19.TXT','036-20.TXT','036-21.TXT','036-22.TXT','036-23.TXT','036-24.TXT','036-25.TXT','036-26.TXT','036-27.TXT','036-28.TXT','045-1.TXT','045-1-S.TXT','045-1-A.TXT','045-1-B.TXT','045-2.TXT','045-2-S.TXT','045-2-A.TXT','045-2-B.TXT','056.TXT','056-S.TXT','056-1.TXT','056-2.TXT','056-3.TXT','056-4.TXT','056-5.TXT','056-6.TXT','056-7.TXT','056-8.TXT','056-9.TXT','056-10.TXT','056-11.TXT','056-12.TXT','056-13.TXT','056-14.TXT','056-15.TXT','056-16.TXT','056-17.TXT','056-18.TXT','056-19.TXT','056-20.TXT','056-21.TXT','056-22.TXT','056-23.TXT','056-24.TXT','056-25.TXT','056-26.TXT','056-27.TXT','056-28.TXT','061.TXT','061-S.TXT','061-A.TXT','061-B.TXT','061-C.TXT','061-D.TXT','061-E.TXT','061-F.TXT','061-G.TXT','02-3-5.TXT','012.TXT','012-S.TXT','012-A.TXT','012-B.TXT','012-C.TXT','012-D.TXT','012-E.TXT','012-F.TXT','012-G.TXT','012-H.TXT','012-I.TXT','012-J.TXT','012-K.TXT','014.TXT','014-S1.TXT','014-A.TXT','014-C.TXT','014-D.TXT','014-E.TXT','014-F.TXT','014-G.TXT','014-H.TXT','014-I.TXT','014-J.TXT','014-K.TXT','014-L.TXT','014-M.TXT','014-N.TXT','014-O.TXT','014-P.TXT','014-Q.TXT','014-R.TXT','014-T.TXT','014-U.TXT','014-V.TXT','027.TXT','027-S.TXT','027-A.TXT','027-B.TXT','041.TXT','041-S.TXT','041-001.TXT','041-002.TXT','041-002-1.TXT','041-002-2.TXT','041-002-3.TXT','041-002-4.TXT','041-003.TXT','041-003-1.TXT','041-003-2.TXT','041-003-3.TXT','041-004.TXT','041-004-1.TXT','041-004-2.TXT','041-004-3.TXT','041-004-4.TXT','041-005.TXT','041-005-1.TXT','041-005-2.TXT','041-005-3.TXT','041-006.TXT','041-006-1.TXT','041-006-2.TXT','041-006-3.TXT','041-006-4.TXT','041-006-5.TXT','041-007.TXT','041-007-1.TXT','041-007-2.TXT','041-007-3.TXT','041-007-4.TXT','041-007-5.TXT','041-008.TXT','041-009.TXT','041-009-1.TXT','041-009-2.TXT','041-009-3.TXT','041-009-4.TXT','041-010.TXT','041-010-1.TXT','041-010-2.TXT','041-010-3.TXT','041-011.TXT','041-011-1.TXT','041-011-2.TXT','041-011-3.TXT','041-012.TXT','041-012-1.TXT','041-012-2.TXT','041-012-3.TXT','041-013.TXT','041-014.TXT','041-014-1.TXT','041-014-2.TXT','041-014-3.TXT','048.TXT','048-S.TXT','048-A.TXT','048-B.TXT','048-C.TXT','008.TXT','008-S.TXT','008-001.TXT','008-002.TXT','008-003.TXT','008-004.TXT','008-005.TXT','008-005-1.TXT','008-006.TXT','008-007.TXT','008-008.TXT','008-009.TXT','008-010.TXT','008-011.TXT','008-012.TXT','008-013.TXT','008-014.TXT','008-015.TXT','008-016.TXT','008-017.TXT','008-018.TXT','008-019.TXT','008-020.TXT','008-021.TXT','024.TXT','024-S.TXT','024-001.TXT','024-002.TXT','024-003.TXT','024-004.TXT','024-005.TXT','024-006.TXT','024-007.TXT','024-008.TXT','024-009.TXT','024-010.TXT','024-011.TXT','024-012.TXT','024-013.TXT','024-014.TXT','024-015.TXT','024-016.TXT','024-018.TXT','024-019.TXT','024-020.TXT','024-021.TXT','024-022.TXT','024-023.TXT','024-024.TXT','024-025.TXT','024-026.TXT','024-027.TXT','024-028.TXT','024-029.TXT','024-030.TXT','024-031.TXT','010.TXT','010-000A.TXT','010-000B.TXT','010-001.TXT','010-002.TXT','010-003.TXT','010-004.TXT','010-005.TXT','010-006.TXT','010-007.TXT','010-008.TXT','010-009.TXT','010-010.TXT','010-011.TXT','010-012.TXT','010-013.TXT','010-014.TXT','010-015.TXT','010-016.TXT','010-017.TXT','010-018.TXT','010-019.TXT','010-020.TXT','010-021.TXT','010-022.TXT','010-023.TXT','010-024.TXT','010-025.TXT','010-026.TXT','010-027.TXT','010-028.TXT','010-029.TXT','010-030.TXT','010-031.TXT','010-032.TXT','010-033.TXT','010-033A.TXT','010-034.TXT','010-035.TXT','010-036.TXT','010-037.TXT','010-038.TXT','010-039.TXT','010-040.TXT','010-041.TXT','010-042.TXT','010-043.TXT','010-044.TXT','010-045.TXT','010-046.TXT','010-047.TXT','010-048.TXT','010-049.TXT','010-050.TXT','010-051.TXT','010-052.TXT','010-053.TXT','010-054.TXT','010-055.TXT','010-056.TXT','010-057.TXT','010-058.TXT','010-059.TXT','010-060.TXT','010-061.TXT','010-062.TXT','010-063.TXT','010-064.TXT','010-065.TXT','010-066.TXT','010-067.TXT','010-068.TXT','010-069.TXT','010-070.TXT','010-071.TXT','021.TXT','021-S.TXT','021-001.TXT','021-002.TXT','021-003.TXT','021-004.TXT','021-005.TXT','021-006.TXT','021-007.TXT','021-008.TXT','021-009.TXT','021-010.TXT','021-011.TXT','021-012.TXT','021-013.TXT','021-014.TXT','021-015.TXT','021-016.TXT','021-017.TXT','021-018.TXT','021-019.TXT','021-020.TXT','021-021.TXT','021-022.TXT','021-023.TXT','021-024.TXT','021-025.TXT','021-026.TXT','021-027.TXT','021-028.TXT','026.TXT','026-S.TXT','026-001.TXT','026-002.TXT','026-003.TXT','026-004.TXT','026-005.TXT','026-006.TXT','026-007.TXT','026-008.TXT','026-009.TXT','026-010.TXT','026-011.TXT','026-012.TXT','026-013.TXT','026-014.TXT','026-015.TXT','026-016.TXT','026-017.TXT','026-018.TXT','026-019.TXT','026-020.TXT','026-021.TXT','026-022.TXT','026-023.TXT','026-024.TXT','026-025.TXT','026-026.TXT','026-027.TXT','026-028.TXT','026-029.TXT','035.TXT','035-S.TXT','035-001.TXT','035-002.TXT','035-003.TXT','035-004.TXT','035-005.TXT','035-006.TXT','035-007.TXT','035-008.TXT','035-009.TXT','035-010.TXT','035-011.TXT','035-012.TXT','035-013.TXT','035-014.TXT','035-015.TXT','035-016.TXT','035-017.TXT','035-018.TXT','035-019.TXT','035-020.TXT','035-021.TXT','035-022.TXT','035-023.TXT','035-024.TXT','035-025.TXT','035-026.TXT','035-027.TXT','035-028.TXT','035-029S.TXT','035-029.TXT','035-030.TXT','035-031.TXT','035-032.TXT','035-A.TXT','035-B.TXT','035-C.TXT','035-D.TXT','035-E.TXT','040.TXT','040-S.TXT','040-001.TXT','040-002.TXT','040-003.TXT','040-004.TXT','040-005.TXT','040-006.TXT','040-007.TXT','040-008.TXT','040-009.TXT','040-010.TXT','040-011.TXT','040-012.TXT','040-013.TXT','040-014.TXT','040-015.TXT','040-016.TXT','040-017.TXT','040-018.TXT','040-019.TXT','040-020.TXT','040-021.TXT','040-022.TXT','040-023.TXT','040-024.TXT','040-025.TXT','040-026.TXT','040-027.TXT','040-028.TXT','040-E.TXT','046.TXT','046-S.TXT','046-001.TXT','046-002.TXT','046-003.TXT','046-004.TXT','046-005.TXT','046-006.TXT','046-007.TXT','046-008.TXT','046-009.TXT','046-010.TXT','046-011.TXT','046-012.TXT','046-013.TXT','046-014.TXT','046-015.TXT','046-016.TXT','046-017.TXT','046-018.TXT','046-019.TXT','046-020.TXT','046-021.TXT','046-022.TXT','046-023.TXT','046-024.TXT','046-025.TXT','046-026.TXT','046-027.TXT','046-028.TXT','046-029.TXT','046-030.TXT','046-031.TXT','046-032.TXT','049.TXT','049-001S.TXT','049-001.TXT','049-002.TXT','049-003.TXT','049-004.TXT','049-005.TXT','049-006.TXT','049-007.TXT','049-008.TXT','049-009.TXT','049-010.TXT','049-011.TXT','049-012.TXT','049-013.TXT','049-014.TXT','049-015.TXT','049-016.TXT','049-017.TXT','049-018.TXT','049-019.TXT','049-020.TXT','049-021.TXT','049-022.TXT','049-023.TXT','049-025.TXT','049-026.TXT','049-027.TXT','049-028.TXT','049-030.TXT','049-031.TXT','049-032.TXT','049-033.TXT','050.TXT','050-001S.TXT','050-001.TXT','050-002.TXT','050-003.TXT','050-004.TXT','050-005.TXT','050-006.TXT','050-007.TXT','050-008.TXT','050-009.TXT','050-010.TXT','050-011.TXT','050-012.TXT','050-013.TXT','050-014.TXT','050-015.TXT','050-016.TXT','02-3-6.TXT','030.TXT','030S.TXT','030-001.TXT','030-002.TXT','030-003.TXT','030-004.TXT','030-005.TXT','030-006.TXT','030-007.TXT','030-008.TXT','030-009.TXT','030-010.TXT','030-011.TXT','030-012.TXT','030-013.TXT','030-014.TXT','030-015.TXT','030-016.TXT','030-017.TXT','030-018.TXT','030-019.TXT','030-020.TXT','030-021.TXT','030-022.TXT','030-023.TXT','030-024.TXT','030-025.TXT','030-026.TXT','030-027.TXT','030-028.TXT','030-029.TXT','030-030.TXT','030-031.TXT','030-032.TXT','030-033.TXT','030-034.TXT','030-035.TXT','030-036.TXT','030-037.TXT','030-038.TXT','030-039.TXT','030-040.TXT','030-041.TXT','030-042.TXT','030-043.TXT','030-044.TXT','030-045.TXT','030-046.TXT','030-047.TXT','030-048.TXT','030-050.TXT','030-051.TXT','030-052.TXT','030-053.TXT','030-054.TXT','030-055.TXT','030-056.TXT','030-057.TXT','030-058.TXT','030-059.TXT','030-060.TXT','030-061.TXT','030-062.TXT','030-063.TXT','030-064.TXT','030-065.TXT','030-066.TXT','030-067.TXT','030-068.TXT','030-069.TXT','030-070.TXT','030-071.TXT','030-072.TXT','030-073.TXT','030-074.TXT','030-075.TXT','030-076.TXT','030-077.TXT','030-078.TXT','030-079.TXT','030-080.TXT','030-081.TXT','030-082.TXT','030-083.TXT','030-084.TXT','030-085.TXT','030-086.TXT','030-087.TXT','037.TXT','037-S1.TXT','037-S2.TXT','037-001.TXT','037-002.TXT','037-003.TXT','037-004.TXT','037-005.TXT','037-006.TXT','037-007.TXT','037-008.TXT','037-009.TXT','037-010.TXT','037-011.TXT','037-012.TXT','037-013.TXT','037-014.TXT','037-015.TXT','037-016.TXT','037-017.TXT','037-018.TXT','037-019.TXT','037-020.TXT','037-021.TXT','037-022.TXT','037-023.TXT','037-024.TXT','037-025.TXT','037-026.TXT','037-027.TXT','037-028.TXT','037-029.TXT','037-030.TXT','037-031.TXT','037-032.TXT','037-034.TXT','037-035.TXT','037-036.TXT','037-037.TXT','037-038.TXT','037-039.TXT','037-040.TXT','037-041.TXT','037-042.TXT','037-043.TXT','037-044.TXT','037-045.TXT','037-046.TXT','037-047.TXT','037-048.TXT','037-049.TXT','037-050.TXT','037-051.TXT','037-052.TXT','037-053.TXT','037-055.TXT','037-057.TXT','037-058.TXT','037-059.TXT','037-060.TXT','037-061.TXT','043.TXT','043-S1.TXT','043-S2.TXT','043-001.TXT','043-002.TXT','043-003.TXT','043-004.TXT','043-005.TXT','043-006.TXT','043-007.TXT','043-008.TXT','043-009.TXT','043-010.TXT','043-011.TXT','043-012.TXT','043-013.TXT','043-014.TXT','043-015.TXT','043-016.TXT','043-017.TXT','043-018.TXT','043-019.TXT','043-020.TXT','043-021.TXT','043-022.TXT','043-023.TXT','043-024.TXT','043-025.TXT','043-026.TXT','043-027.TXT','043-028.TXT','043-029.TXT','043-030.TXT','043-031.TXT','043-032.TXT','043-033.TXT','043-034.TXT','043-035.TXT','043-036.TXT','043-037.TXT','043-038.TXT','043-039.TXT','043-040.TXT','043-041.TXT','043-042.TXT','043-043.TXT','043-044.TXT','043-045.TXT','043-046.TXT','043-047.TXT','043-048.TXT','043-049.TXT','043-050.TXT','043-051.TXT','043-052.TXT','043-053.TXT','043-054.TXT','043-055.TXT','043-056.TXT','043-057.TXT','043-058.TXT','043-059.TXT','043-060.TXT','043-061.TXT','043-062.TXT','043-063.TXT','043-064.TXT','043-065.TXT','043-066.TXT','043-067.TXT','043-068.TXT','051.TXT','051-S.TXT','051-001.TXT','051-002.TXT','051-003.TXT','051-004.TXT','051-005.TXT','051-006.TXT','051-007.TXT','051-008.TXT','051-009.TXT','051-010.TXT','051-011.TXT','051-012.TXT','051-013.TXT','051-014.TXT','051-015.TXT','051-016.TXT','051-017.TXT','051-018.TXT','051-019.TXT','051-020.TXT','051-021.TXT','051-022.TXT','051-023.TXT','051-024.TXT','051-025.TXT','051-026.TXT','051-027.TXT','051-028.TXT','051-029.TXT','051-030.TXT','051-031.TXT','051-032.TXT','051-033.TXT','051-034.TXT','051-035.TXT','051-036.TXT','051-037.TXT','051-038.TXT','051-039.TXT','051-040.TXT','051-041.TXT','051-042.TXT','051-043.TXT','051-044.TXT','051-045.TXT','051-046.TXT','051-047.TXT','051-048.TXT','051-049.TXT','051-050.TXT','051-051.TXT','051-052.TXT','051-053.TXT','051-054.TXT','051-055.TXT','051-056.TXT','051-057.TXT','051-058.TXT','051-059.TXT','051-060.TXT','051-061.TXT','051-062.TXT','051-063.TXT','051-064.TXT','051-065.TXT','051-066.TXT','051-067.TXT','051-068.TXT','051-069.TXT','051-070.TXT','051-071.TXT','051-072.TXT','051-073.TXT','051-074.TXT','051-075.TXT','051-076.TXT','051-077.TXT','051-078.TXT','051-079.TXT','051-080.TXT','051-081.TXT','051-082.TXT','051-083.TXT','051-084.TXT','051-085.TXT','051-086.TXT','051-087.TXT','051-088.TXT','051-089.TXT','051-090.TXT','051-091.TXT','051-092.TXT','051-093.TXT','051-094.TXT','051-095.TXT','051-096.TXT','057.TXT','057-S.TXT','057-001.TXT','057-002.TXT','057-003.TXT','057-004.TXT','057-005.TXT','057-006.TXT','057-007.TXT','057-008.TXT','057-009.TXT','057-010.TXT','057-011.TXT','057-012.TXT','057-013.TXT','057-014.TXT','057-015.TXT','057-016.TXT','057-017.TXT','057-018.TXT','057-019.TXT','057-020.TXT','057-021.TXT','057-022.TXT','057-023.TXT','057-024.TXT','057-025.TXT','057-026.TXT','057-027.TXT','057-028.TXT','057-029.TXT','057-030.TXT','057-031.TXT','057-032.TXT','057-033.TXT','057-034.TXT','057-035.TXT','057-036.TXT','057-037.TXT','057-038.TXT','057-039.TXT','057-040.TXT','057-041.TXT','057-042.TXT','057-043.TXT','057-044.TXT','057-045.TXT','057-046.TXT','057-047.TXT','057-047-1.TXT','057-047-2.TXT','057-048.TXT','057-049.TXT','057-050.TXT','057-051.TXT','057-052.TXT','057-053.TXT','057-054.TXT','057-055.TXT','057-056.TXT','057-057.TXT','057-058.TXT','057-059.TXT','057-060.TXT','057-060-1.TXT','057-061.TXT','057-062.TXT','057-063.TXT','057-064.TXT','057-065.TXT','057-066.TXT','057-067.TXT','057-068.TXT','057-069.TXT','057-070.TXT','057-071.TXT','057-072.TXT','057-073.TXT','057-074.TXT','057-075.TXT','057-076.TXT','057-077.TXT','057-078.TXT','057-079.TXT','057-079-1.TXT','057-080.TXT','057-081.TXT','057-082.TXT','057-083.TXT','057-084.TXT','057-085.TXT','057-086.TXT','057-087.TXT','057-088.TXT','057-089.TXT','057-090.TXT','057-091.TXT','057-092.TXT','057-093.TXT','057-094.TXT','057-095.TXT','057-096.TXT','057-097.TXT','057-098.TXT','057-099.TXT','057-100.TXT','057-101.TXT','057-102.TXT','057-103.TXT','057-104.TXT','057-105.TXT','057-106.TXT','057-107.TXT','057-108.TXT','057-109.TXT','057-110.TXT','057-111.TXT','057-112.TXT','057-113.TXT','057-114.TXT','057-115.TXT','057-116.TXT','057-117.TXT','057-118.TXT','057-119.TXT','057-120.TXT','057-121.TXT','057-122.TXT','057-123.TXT','057-124.TXT','057-125.TXT','057-126.TXT','057-127.TXT','057-128.TXT','057-129.TXT','057-130.TXT','057-131.TXT','057-132.TXT','057-133.TXT','057-134.TXT','057-135.TXT','057-136.TXT','057-137.TXT','057-138.TXT','057-139.TXT','057-140.TXT','057-141.TXT','057-142.TXT','057-143.TXT','057-144.TXT','057-145.TXT','057-146.TXT','057-147.TXT','057-148.TXT','057-149.TXT','057-150.TXT','057-151.TXT','057-152.TXT','057-153.TXT','057-154.TXT','057-O.TXT','052.TXT','052-S.TXT','052-001.TXT','052-002.TXT','052-003.TXT','052-004.TXT','052-005.TXT','052-006.TXT','052-007.TXT','052-008.TXT','052-009.TXT','052-010.TXT','052-011.TXT','052-012.TXT','052-013.TXT','052-014.TXT','052-015.TXT','055.TXT','055-001.TXT','055-002.TXT','055-003.TXT','055-004.TXT','055-005.TXT','055-006.TXT','055-007.TXT','055-008.TXT','055-009.TXT','055-010.TXT','055-011.TXT','055-012.TXT','055-013.TXT','055-014.TXT','055-015.TXT','055-016.TXT','055-017.TXT','055-018.TXT','055-019.TXT','055-020.TXT','055-021.TXT','055-022.TXT','055-023.TXT','055-024.TXT','055-025.TXT','055-026.TXT','055-027.TXT','055-028.TXT','055-029.TXT','055-030.TXT','055-031.TXT','055-032.TXT','055-033.TXT','055-034.TXT','055-035.TXT','055-036.TXT','055-037.TXT','055-038.TXT','055-039.TXT','055-040.TXT','055-041.TXT','055-042.TXT','055-043.TXT','055-044.TXT','055-045.TXT','055-046.TXT','055-047.TXT','055-048.TXT','055-049.TXT','055-050.TXT','055-051.TXT','055-052.TXT','055-053.TXT','055-054.TXT','055-055.TXT','055-056.TXT','055-057.TXT','055-058.TXT','055-059.TXT','055-060.TXT','055-061.TXT','055-062.TXT','055-063.TXT','055-064.TXT','055-065.TXT','055-066.TXT','055-067.TXT','055-068.TXT','055-069.TXT','055-070.TXT','055-071.TXT','055-072.TXT','055-073.TXT','055-074.TXT','055-075.TXT','055-076.TXT','055-077.TXT','055-078.TXT','055-079.TXT','055-080.TXT','055-081.TXT','055-082.TXT','055-083.TXT','055-084.TXT','055-085.TXT','055-086.TXT','055-087.TXT','055-088.TXT','055-089.TXT','055-090.TXT','055-091.TXT','055-092.TXT','055-093.TXT','055-094.TXT','055-095.TXT','055-096.TXT','055-097.TXT','055-098.TXT','055-099.TXT','055-100.TXT','055-101.TXT','055-102.TXT','055-103.TXT','055-104.TXT','055-105.TXT','055-106.TXT','055-107.TXT','055-108.TXT','055-109.TXT','055-110.TXT','055-111.TXT','055-112.TXT','055-113.TXT','055-114.TXT','055-115.TXT','055-116.TXT','055-117.TXT','055-118.TXT','055-119.TXT','055-120.TXT','055-121.TXT','055-122.TXT','055-123.TXT','055-124.TXT','055-125.TXT','055-126.TXT','055-127.TXT','055-128.TXT','055-129.TXT','055-130.TXT','055-131.TXT','055-132.TXT','055-133.TXT','055-134.TXT','055-135.TXT','055-136.TXT','055-137.TXT','055-138.TXT','055-139.TXT','055-140.TXT','055-141.TXT','055-142.TXT','055-143.TXT','055-144.TXT','055-145.TXT','055-146.TXT','055-147.TXT','055-148.TXT','055-149.TXT','055-150.TXT','055-151.TXT','055-152.TXT','055-153.TXT','055-154.TXT','055-155.TXT','055-156.TXT','055-157.TXT','055-158.TXT','055-159.TXT','055-160.TXT','055-161.TXT','055-162.TXT','055-163.TXT','055-164.TXT','055-165.TXT','055-166.TXT','055-167.TXT','055-168.TXT','060.TXT','060-001.TXT','060-002.TXT','060-003.TXT','060-004.TXT','060-005.TXT','060-006.TXT','060-007.TXT','060-008.TXT','060-009.TXT','060-010.TXT','060-011.TXT','060-012.TXT','060-013.TXT','060-014.TXT','060-015.TXT','060-016.TXT','060-017.TXT','060-018.TXT','060-019.TXT','060-020.TXT','060-021.TXT','060-022.TXT','060-023.TXT','060-024.TXT','060-025.TXT','060-026.TXT','060-027.TXT','060-028.TXT','060-029.TXT','060-030.TXT','060-031.TXT','060-032.TXT','060-033.TXT','060-034.TXT','060-035.TXT','060-036.TXT','060-037.TXT','060-038.TXT','060-039.TXT','060-040.TXT','060-041.TXT','060-042.TXT','060-043.TXT','060-044.TXT','060-045.TXT','060-046.TXT','060-047.TXT','060-048.TXT','060-049.TXT','060-050.TXT','060-051.TXT','060-052.TXT','060-053.TXT','060-054.TXT','060-055.TXT','060-056.TXT','060-057.TXT','060-058.TXT','060-059.TXT','060-060.TXT','060-061.TXT','060-062.TXT','060-063.TXT','060-064.TXT','060-065.TXT','060-066.TXT','060-067.TXT','060-068.TXT','060-069.TXT','060-070.TXT','060-071.TXT','060-072.TXT','060-073.TXT','060-074.TXT','060-075.TXT','060-076.TXT','060-077.TXT','060-078.TXT','060-079.TXT','060-080.TXT','060-081.TXT','060-082.TXT','060-083.TXT','060-084.TXT','060-085.TXT','060-086.TXT','060-087.TXT','060-088.TXT','060-089.TXT','060-090.TXT','060-091.TXT','060-092.TXT','060-093.TXT','060-094.TXT','060-095.TXT','060-096.TXT','060-097.TXT','060-098.TXT','060-099.TXT','060-100.TXT','060-101.TXT','060-102.TXT','060-103.TXT','060-104.TXT','060-105.TXT','060-106.TXT','060-107.TXT','060-108.TXT','060-109.TXT','060-110.TXT','060-111.TXT','060-112.TXT','060-113.TXT','060-114.TXT','060-115.TXT','060-116.TXT','060-117.TXT','060-118.TXT','064.TXT','064-001.TXT','064-002.TXT','064-003.TXT','064-004.TXT','064-005.TXT','064-006.TXT','064-007.TXT','064-008.TXT','064-009.TXT','064-010.TXT','064-011.TXT','064-012.TXT','064-013.TXT','064-014.TXT','064-015.TXT','064-016.TXT','064-017.TXT','064-018.TXT','064-019.TXT','064-020.TXT','064-021.TXT','064-022.TXT','064-023.TXT','064-024.TXT','064-025.TXT','064-026.TXT','064-027.TXT','064-028.TXT','064-029.TXT','064-030.TXT','064-031.TXT','064-032.TXT','064-033.TXT','064-034.TXT','064-035.TXT','064-036.TXT','064-037.TXT','064-038.TXT','064-039.TXT','064-040.TXT','064-041.TXT','064-042.TXT','064-043.TXT','064-044.TXT','064-045.TXT','064-046.TXT','064-047.TXT','064-048.TXT','064-049.TXT','064-050.TXT','064-051.TXT','064-052.TXT','064-053.TXT','064-054.TXT','064-055.TXT','064-056.TXT','064-057.TXT','064-058.TXT','064-059.TXT','064-060.TXT','064-061.TXT','064-062.TXT','064-063.TXT','064-064.TXT','064-065.TXT','064-066.TXT','064-067.TXT','064-068.TXT','064-069.TXT','064-070.TXT','064-071.TXT','064-072.TXT','064-073.TXT','064-074.TXT','064-075.TXT','064-076.TXT','064-077.TXT','064-078.TXT','064-079.TXT','064-080.TXT','064-081.TXT','064-082.TXT','064-083.TXT','064-084.TXT','064-085.TXT','064-086.TXT','064-087.TXT','064-088.TXT','064-089.TXT']
// ===============================================
// 開始讀檔
// for (var k = 0; k < lst.length; k++) {
for (var k of lst) {
    // 用絕對路徑讀入檔案，使用陣列中的檔名
    // var n = path.normalize(h + '/' + k)
    var a = fs.readFileSync(k, ru)
    // 導入陣列，準備編輯
    // 刪除過多的空行，及<頁<段
    // 因為《續藏》第1行是頁碼，必須刪除第1行的頁碼，但先要在最前面加一行，不然在後面的for b[0]會轉換不到
    // a = '<file>\n' + a + '\n</file>'
    var b = a
        // .replace(/<頁碼? [^>]+>[\n|\r]*/g, '')
        // .replace(/<段\/?>[\n|\r]*/g, '')
        // .replace(/[\n|\r]{3,}/g, '\n\n')
        // 接合標記內的斷行
        // .replace(/(<[^>]*)[\n|\r]([^>]*>)/g, '$1$2\n')
        .replace(/<頁碼? [^>]+>/g, '')
        .replace(/<段\/?>/g, '')
        .replace(/<聯 l/g, '<a href')
        .replace(/聯>/g, 'a>')
        // .replace(/<_-書 .+/g, '')
        .replace(/_-章>/g, 'le>')
        .replace(/_-節>/g, 'je>')
        .replace(/<檔>/g, '======')
        .replace(/<\/檔>/g, '====')
        .replace(/&/g, '＆')
        .replace(/粗>/g, 'b>')
        .replace(/經>/g, 'xa>')
        // .replace(/字母>/g, 'h1>')
        .replace(/英文名>/g, 'eng>')
        .replace(/<嵌?圖 f/g, '<img n')
        .replace(/<註/g, '<fn')
        .replace(/註>/g, 'fn>')
        // .replace(/<釋([^>]+)\/>(.*)/g, '<h1$1>$2</h1>')
        .replace(/<釋/g, '<a')
        .replace(/釋>/g, 'a>')
        .replace(/<頁碼>/g, '<rubynote t="')
        .replace(/<\/頁碼>/g, '"/>')
        .replace(/<偏右字>/g, '<rubynote t="')
        .replace(/<\/偏右字>/g, '"/>')
        .replace(/序>/g, 'talk>')
        .replace(/分>/g, 'pv>')
        .replace(/跋>/g, 'ba>')
        .replace(/會>/g, 'va>')
        .replace(/其他>/g, 'other>')
        .replace(/附文>/g, 'ps>')
        .replace(/科判>/g, 'h0>')
        .replace(/卷>/g, 'sarticle>')
        .replace(/<冊/g, '<book')
        .replace(/冊>/g, 'book>')
        .replace(/編>/g, 'h0>')
        .replace(/大>/g, 'tag>')
        .replace(/表>/g, 'kai>')
        .replace(/<書/g, '<article')
        .replace(/書>/g, 'article>')
        .replace(/章>/g, 'article>')
        .replace(/節>/g, 'h1>')
        .replace(/類>/g, 'h2>')
        .replace(/項>/g, 'h3>')
        .replace(/文>/g, 'h4>')
        .replace(/篇>/g, 'pe>')
        .replace(/年>/g, 'year>')
        .replace(/詩>/g, 'si>')
        .replace(/著者>/g, 'sr>')
        .replace(/詞>/g, 'tag>')
        .replace(/人名>/g, 'name>')
        .replace(/問>/g, 'ask>')
        .replace(/答>/g, 'rep>')
        .replace(/字>/g, 'zi>')
        .replace(/小字>/g, 'little>')
        .replace(/原出處>/g, 'ptr>')
        .replace(/參考書>/g, 'def>')
        .replace(/期>/g, 'l>')
        .replace(/編目資訊>/g, 'ml>')
        .replace(/原書分頁>/g, 'hr>')
        .replace(/相應部>/g, 'sep>')
        .replace(/藥>/g, 'by>')
        .replace(/方>/g, 'bf>')
        .replace(/症>/g, 'bz>')
        // .replace(/甲>/g, 'h1>')
        // .replace(/乙>/g, 'h2>')
        // .replace(/丙>/g, 'h3>')
        // .replace(/丁>/g, 'h4>')
        // .replace(/戊>/g, 'h5>')
        // .replace(/己>/g, 'h6>')
        // .replace(/庚>/g, 'h7>')
        // .replace(/辛>/g, 'h8>')
        // .replace(/壬>/g, 'h9>')
        // .replace(/癸>/g, 'h10>')
        // .replace(/子>/g, 'h11>')
        // .replace(/丑>/g, 'h12>')
        // .replace(/寅>/g, 'h13>')
        // .replace(/卯>/g, 'h14>')
        // .replace(/辰>/g, 'h15>')
        // .replace(/巳>/g, 'h16>')
        // .replace(/午>/g, 'h17>')
        // .replace(/未>/g, 'h18>')
        // .replace(/申>/g, 'h19>')
        // .replace(/酉>/g, 'h20>')
        // .replace(/戌>/g, 'h21>')
        // .replace(/亥>/g, 'h22>')
        // .replace(/日>/g, 'h23>')
        // .replace(/月>/g, 'h24>')
        // .replace(/火>/g, 'h25>')
        // .replace(/水>/g, 'h26>')
        // .replace(/木>/g, 'h27>')
        // .replace(/金>/g, 'h28>')
        // .replace(/土>/g, 'h29>')
        // .replace(/春>/g, 'h30>')
        // .replace(/夏>/g, 'h31>')
        // .replace(/秋>/g, 'h32>')
        // .replace(/冬>/g, 'h33>')
        // .replace(/東>/g, 'h34>')
        .replace(/《/g, '<bf>《')
        .replace(/》/g, '》</bf>')
        .replace(/〈/g, '<by>〈')
        .replace(/〉/g, '〉</by>')
        .replace(/〔/g, '<bz>〔')
        .replace(/〕/g, '〕</bz>')
        .replace(/(<\/by>)<\/by>/g, '$1')
        .replace(/(<\/bf>)<\/bf>/g, '$1')
        .replace(/(<\/bz>)<\/bz>/g, '$1')
        .replace(/(<by>)<by>/g, '$1')
        .replace(/(<bf>)<bf>/g, '$1')
        .replace(/(<bz>)<bz>/g, '$1')
        .split('\n')

    // ===============================================
    // 加上批次冊碼頁碼
    // 預設變量，才能累加冊碼頁碼
    var s0 = 0
    var s1 = 0
    var s2 = 1
    var sfn = 1
    var sa = 1

    // 30字切行
    // for (var i = 0; i < b.length; i++) {
    //     b[i] = b[i].replace(/(.{30})/g, '$1\n')
    // }

    // 第1行不好轉換，會出現亂碼，所以從第2行開始
    for (var i = 1; i < b.length; i++) {
        // 刪除行首空白
        b[i] = b[i].replace(/^ +/g, '')
        // 加上冊碼頁碼
        // 多個檔案的時候，不好算出冊碼，就省去冊碼
        if (/<article/.test(b[i]) || i == 1 || s2 > 1023) {
            s2 = 1
            // s1++
            // b[i] = '<pb n="' + s1 + '.' + s2 + '"/>\n' + b[i]
            b[i] = '<pb n="' + s2 + '"/>\n' + b[i]
            s0 = i + 30
        }
        if (i == s0) {
            s2++
            // b[i] = '<pb n="' + s1 + '.' + s2 + '"/>\n' + b[i]
            b[i] = '<pb n="' + s2 + '"/>\n' + b[i]
            s0 = i + 30
        }
    }
    // 導入物件內
    okfile += b.join('\n')
    // 完成時返回通知
    console.log('arrpb is OK: ' + k)
}
// 用絕對路徑寫入檔案
fs.writeFileSync('ok.xml', '<file>\n' + okfile + '\n</file>', wu)

// 'test'名字要和time()中的名字保持一致
console.timeEnd('共耗費了')